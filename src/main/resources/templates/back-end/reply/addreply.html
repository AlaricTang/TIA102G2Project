<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!--  ======== Document Title =====================================  -->
<title>後台首頁</title>


<!-- ●●css for jquery datatables 用 -->
<link rel="stylesheet" th:href="@{/css/styleBack.css}" type="text/css">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" />
<link rel="stylesheet"
	href="https://cdn.datatables.net/1.13.5/css/dataTables.jqueryui.min.css" />


<script th:src="@{/js/scriptsBack.js}"></script>
<script th:src="@{/js/datatables-simple-demo.js}"></script>
<script th:src="@{/demo/chart-area-demo.js}"></script>
<script th:src="@{/demo/chart-bar-demo.js}"></script>
<script th:src="@{/demo/chart-pie-demo.js}"></script>

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<!-- ●●js  for jquery datatables 用 -->
<script
	src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
<!-- ●●js  for jquery datatables 用 -->
<script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"></script>


<style>
body {
	font-family: 'Inter', sans-serif;
	background-color: #f0f2f5;
	color: #1a1a1a;
}

.container-fluid {
	max-width: 1400px;
	padding: 30px;
}

.section {
	background-color: #ffffff;
	border-radius: 12px;
	padding: 25px;
	margin-bottom: 20px;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
}

.section-title {
	color: #4a4a4a;
	font-weight: 600;
	margin-bottom: 20px;
	font-size: 1.2rem;
	padding-bottom: 10px;
	border-bottom: 2px solid #e0e0e0;
}

.info-row {
	margin-bottom: 12px;
	display: flex;
	align-items: flex-start;
}

.info-label {
	font-weight: 500;
	color: #6c757d;
	margin-right: 10px;
	min-width: 100px;
	display: inline-block;
}

.info-content {
	color: #1a1a1a;
	flex: 1;
}

.reply-item {
	background-color: #f8f9fa;
	border-radius: 8px;
	padding: 15px;
	margin-bottom: 15px;
}

.btn-add-reply {
	background-color: #90EE90;
	/* 淺綠色 */
	border: none;
	padding: 10px 20px;
	font-weight: 500;
	border-radius: 6px;
	transition: all 0.3s ease;
	color: #ffffff;
}

.btn-add-reply:hover {
	background-color: #7CCD7C;
	/* 深一點的綠色用於 hover 效果 */
	transform: translateY(-2px);
	box-shadow: 0 4px 8px rgba(143, 188, 143, 0.3);
}

.customer-content, .reply-content, .subject-content {
	background-color: #ffffff;
	border-radius: 6px;
	padding: 12px;
	border: 1px solid #e0e0e0;
	flex: 1;
}

.btn-send-email {
	background-color: #90EE90;
	/* 與 btn-add-reply 相同的淺綠色 */
	border: none;
	padding: 10px 20px;
	font-weight: 500;
	border-radius: 6px;
	transition: all 0.3s ease;
	color: #ffffff;
	display: inline-block;
	text-decoration: none;
}

.btn-send-email:hover {
	background-color: #7CCD7C;
	/* 與 btn-add-reply 相同的深綠色 */
	transform: translateY(-2px);
	box-shadow: 0 4px 8px rgba(143, 188, 143, 0.3);
}
</style>


</head>

<body class="sb-nav-fixed">

	<!-- header -->
	<div th:include="headerBack :: headerBack"></div>
	<!-- header -->

	<div id="layoutSidenav">
		<!-- footer -->
		<div th:include="SliderLeftBack :: SliderLeftBack"></div>
		<!-- footer -->

		<!--右半邊的空白頁 -->
		<div id="layoutSidenav_content">
            <main>
                <div class="container-fluid">
                    <div class="section">
                        <h2 class="section-title">
                            <i class="fas fa-user me-2"></i>客戶留言
                        </h2>
                        <div class="info-row">
                            <span class="info-label">客戶姓名：</span>
                            <span class="info-content" th:text="${customerVO.customerName}"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">電子郵件：</span>
                            <span class="info-content" th:text="${customerVO.customerEmail}"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">手機：</span>
                            <span class="info-content" th:text="${customerVO.customerPhone}"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">留言時間：</span>
                            <span class="info-content"
                                th:text="${#dates.format(customerVO.customerTime, 'yyyy-MM-dd HH:mm:ss')}"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">主旨：</span>
                            <span class="subject-content" th:text="${customerVO.customerSubject}"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">內容：</span>
                            <div class="customer-content" th:text="${customerVO.customerContent}"></div>
                        </div>
                    </div>

                    <div class="section">
                        <h2 class="section-title">
                            <i class="fas fa-reply me-2"></i>回覆
                        </h2>
                        <form th:action="@{/reply/sendEmail}" method="post">
                            <input type="hidden" name="customerID" th:value="${customerVO.customerID}">
                            <div class="info-row">
                                <span class="info-label">回覆主旨：</span>
                                <input type="text" name="replySubject" class="form-control" required>
                            </div>
                            <div class="info-row">
                                <span class="info-label">回覆內容：</span>
                                <textarea name="replyContent" class="form-control" rows="5" required></textarea>
                            </div>
                            <div class="text-center mt-4">
                                <a th:href="@{/reply/addReply/{customerID}(customerID=${customerVO.customerID})}" class="btn-send-email">
                                    <i class="fas fa-envelope me-2"></i>寄出信件回覆
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>
		<!--右半邊的空白頁 -->


	<script>
		$(document).ready(function() {
			var table = $('#customerTable').DataTable({
				"pageLength" : 5,
				"lengthMenu" : [ 3, 5, 10, 15 ],
				"language" : {
					"lengthMenu" : "顯示 _MENU_ 筆資料",
					"zeroRecords" : "沒有找到相符的資料",
					"info" : "顯示第 _START_ 至 _END_ 筆資料，共 _TOTAL_ 筆",
					"infoEmpty" : "顯示第 0 至 0 筆資料，共 0 筆",
					"infoFiltered" : "(從 _MAX_ 筆資料中過濾)",
					"search" : "搜尋:",
					"paginate" : {
						"first" : "首頁",
						"last" : "尾頁",
						"next" : "下一頁",
						"previous" : "上一頁"
					}
				}
			});

			$('#showEntries').on('change', function() {
				table.page.len(this.value).draw();
			});
		});
	</script>


</body>

</html>